(this.webpackJsonpchatting_app=this.webpackJsonpchatting_app||[]).push([[0],[,,,,,,,,,function(e,a,t){e.exports={LoginSignUp:"_1kxcjfGT8AV_or4GGvCs-M",Header:"_2mLcpAoW43fJsXG2chh4Hd",FormSection:"_75EsxAGCXlkH4YyprmF4R",LoginContainer:"_1xNouEwpT7JJrTjOU7bU34",Head:"_1kXuT2BWi3DaRP7RyhoKWC",checkLink:"_1itPGkZJq9sjZa22e3FYN7",Text:"_30tJSIjE48KRH4ip5u5JnN",field:"_3PktH_Va_GWk0p3se_A6z9",errorMessage:"_3g_j_A6SflevFxUJg_twsw",Button:"_2kZ9C0Sp8rERHIq5W4s0hQ",toggle:"Y3ajfmZt2v-WzpcEpYWC9"}},,,function(e,a,t){e.exports={Setting:"_1BKTcjkFokCtD5fvUKDTPv",Heading:"_2WOls32HalwRCZ3Hoc4MYU",Heading1:"_133FJudIDoDLbHbeSr7ZH6",Heading2:"_8cZq5bXDHL186JIdlugMk",Profile:"_3DIlFKdZ9a5DfEIItr0k0S",Image:"_3NCUeWLJDJ3YhZZwaMmpz3",Name:"lkUWO8X_y9eKQnVmb_2uN",Name_Section:"_3XdAg0C4xPEyxignh-ec-",edit:"_3b0vqrcV78TTIZgrVTLcjD",text:"_3bZuxyij5negHfpdKElL34",about:"_3M6i3OYsU5-tlrpfEe-FMc",form:"IJU9QU-LBG5ZtjBsvaOyS"}},,function(e,a,t){e.exports={Messages:"JsHMZVlY6GUIHonOdy55a",List:"_3H_2i5LkMcyT2OQLDUDYT5",Option:"_2y_mB1uDOMSACmuytvcWET",Current:"_34M90s6x7jjt3J1v4xYsXN"}},function(e,a,t){e.exports={Chats:"_1LW0WacLsbIBwqCApRbnkJ",Active:"BpFDNTmDsFoCELTQ0mbQz",Profile:"KSTr4ToYQbhQ5MiTg64-N",Image:"_25vBLH-30TST10H0ce5JuO",name:"Qqyo7i_cw6KoqopdP-Unh",delivered:"_3Mv5rY76zxUQ5eF-1IgU_U",time:"HPe_U0o8bDP5Vj5ai8XGE",read:"_36_2RjafvO7be2XLRleIU0",icon:"ApP-NWjSBpZQ4BGs-WZ8C",Send:"_2Dvssx04o6PgZ0iclI7F0t",pending:"_2GlDvoy1GZi8TIOu0uOiS_",requested:"_1m-iVOwtRWRgLC_ZEU_U_m",lastMessage:"eG3nI4MKDt2QNZPdCm8mI"}},function(e,a,t){e.exports={Conversation:"_3rCUYJaNwRmNs_x3RTtgmJ",Heading:"_1t_CxlBiKEFFViT0hCh1zf",search:"_3JIkNUbuW-jeaiKREdBHLa",recent:"_3XNf5QPioUBVU9x9VUQqu6",new:"_1SMvoGaBaE6WzzblCkEOYo",opt:"_2qC0moOqw9Hum--mGmW0U7",Chat:"_3D76RaR2UK5bYIrOvrpm20"}},function(e,a,t){e.exports={Options:"_3Jf-DOCrw6ls9wp58-rhA5",head:"_1TNj2PdUuagGOBJsFjXBNm",List:"_2DAQRxDgY0VBQNbIadoFtU",Option:"KC7jngujb1fKSb9iqqmZi",Icon:"_1pjARiR8C854WOihdxS4xk"}},,function(e,a,t){e.exports={TopOption:"sI8gRtbRVCylU7q9bjiYO",DisplayProfile:"w5yr5Z6_7lxKrEnsqy9Sw",Image:"kY8jBDqIYXNbaQu6ma-CO",Name_LastSeen:"n2Vy4nQ41GMOCjsu2cQoG",Name:"_23SaoGpxF07ncfxkDW4PWB",LastSeen:"_1TC_J7LilNX6Od6idpVKWF",HamburgerMenu:"_2AVg2aBNLTUurjELSasDEC"}},function(e,a,t){e.exports={Main:"_2HgqIrAfxjPMXsSHPoOhTz",Profile:"_2tc1jLQBwbUSGFSA8tHCk-",Conversations:"yntseQKoCgUON0eGbkztT",TextArea__TopOption:"_3FipXWkPg82_Qfk_BJ34eW",ContactInfo:"_3-A4jQBJkOxdvA7i9r0mkb",loading:"_3fnbYGoz6yKQfjaBNwCzXM",loader:"_1o0twxMDVibI0ZNZzrCBMY",load1:"_3nLOexLoL4Wqv2X96YCBis"}},function(e,a,t){e.exports={NewChat:"_282RTa0uSHyH8Sqw3SfrQy",Active:"_3gtOPC36LOCKQwFDVkpySa",Profile:"_2luwGzGIPe9a8KalB37ySJ",Image:"_2k2Efun5JRxvsZ0M21Gh22",name:"_1DcKku36zJJocoM77PNOFH",time:"_1b-8QtVpRZPgqIZGekiSkk",read:"E1OEMvAr_vl2euRWxkeDD",Send:"_3R7lIWf7hU9Ola9TgP9u4r"}},function(e,a,t){e.exports={Display:"_1c5RHaBJgRya9pnGgyuJLn",Heading:"LQAawaG0eXEEgm92YepBI",Profile:"_2e7xe3xW_7YmZ_rW9NFnDn",Image:"_2uf2PCcSlvfPkUqUeL4bzN",Name:"_1KnxEfgC7gGz-6hakn63Sf",Place:"_2C36eDZ_sZ-ctMhw-U7FbK"}},,function(e,a,t){e.exports={UserProfile:"_3MCZoUfhWSlcF2qF9yBuch",Profile:"_1j6ucBj9QdfiOily273o0Q",Image:"_1bvcvrNPF5Kfmp8yaR5Sls",Name:"_2fp2ey5m1sk5HCpNrJhKkU",Username:"_36cFDB1GUsbMLoR9h3ubG0"}},,function(e,a,t){e.exports={Media:"D_A3Siy4Yu1O5w6dvdd7Q",head:"_36MwxJYPA2LzKDPtYgeuTc",AllImage:"_2IJY89UgV7CBkhLnIWSPBL",image:"_1xv7qFYDgW0EM_uaTugfHy"}},function(e,a,t){e.exports={Message:"_2Z8l3UQf4wRjiIHyxhvUG7",sar_11:"MjbGPbqm9JM_TzN8nYvVU",text:"_2AHTVpAsyCxtdxlLkIVEhl",time:"_1A3kqBBR7wear8sO0kBuXK"}},function(e,a,t){e.exports={About:"_2oEGc7rPkxvsxXOE6icT4Q",container:"_1FZO6RvbPfo6wVMMYVQuod",head:"_2aPklU-qVYI1YsudbHIlg-",content:"_3bJIwDRp7gneLRdDFs13op"}},function(e,a,t){e.exports={MessageArea:"tbxwfTPOVSf_12Vh-hF--",Init:"_1DwPBgciAuhSqvvFSBnd0k"}},,,,function(e,a,t){e.exports={TextArea:"_3yJNR0_V8pX1qLCEfhJaDn",Button:"_3gwvmthJlyF57rCqoZ1kni"}},function(e,a,t){e.exports={loading:"Wo79gp_RMfVuwi1bQRBUi",loader:"_1xzC5dpobCm8KIkjIq--et",load1:"_18x4ZHIVwcyd0XCiE7Kxt2"}},,,,function(e,a,t){e.exports={Profile:"_2iteygb_0o35NZPR2JGVzt"}},function(e,a,t){e.exports={Contact_Info:"_1m-QK3gZ3QLkHlYb6joCe5"}},function(e,a,t){e.exports={Section3:"_2ImPLMZbwuFl8gc_1lqxHP"}},,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var s=t(3),c=t.n(s),n=t(36),i=t.n(n),r=t(5),o=t(41).a.initializeApp({apiKey:"AIzaSyDSaD4vskEMtlkicYIhJ1vVqa3bhwbvBGM",authDomain:"chat-app-118d3.firebaseapp.com",databaseURL:"https://chat-app-118d3-default-rtdb.firebaseio.com",projectId:"chat-app-118d3",storageBucket:"chat-app-118d3.appspot.com",messagingSenderId:"348608485047",appId:"1:348608485047:web:587074963c5037c4f6df32",measurementId:"G-X5C0VGCQC5"}),l=t(11),j=t(14),d=t.n(j),u=t(2),b=function(e){var a=Object(s.useState)("conversation"),t=Object(r.a)(a,2),c=t[0],n=t[1],i=function(a){e.changeShowOption(a),n(a)};return Object(u.jsx)("div",{className:d.a.Messages,children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:"conversation"===c?d.a.List+" "+d.a.Current:d.a.List,onClick:function(){return i("conversation")},children:Object(u.jsx)("div",{className:d.a.Option,children:"Conversations"})}),Object(u.jsx)("li",{className:"setting"===c?d.a.List+" "+d.a.Current:d.a.List,onClick:function(){return i("setting")},children:Object(u.jsx)("div",{className:d.a.Option,children:"Settings"})}),Object(u.jsx)("li",{onClick:e.logoutHandler,className:d.a.List,children:Object(u.jsx)("div",{className:d.a.Option,children:"Logout"})})]})})},h=t(24),m=t.n(h),O=function(e){var a={backgroundImage:"url(".concat(e.userData.imageUrl||"https://i.stack.imgur.com/34AD2.jpg",")")};return Object(u.jsxs)("div",{className:m.a.UserProfile,children:[Object(u.jsx)("div",{className:m.a.Profile,children:Object(u.jsx)("div",{style:a,className:m.a.Image})}),Object(u.jsx)("div",{className:m.a.Name,children:e.userData.name})]})},v=t(38),f=t.n(v),g=function(e){return Object(u.jsxs)("div",{className:f.a.Profile,children:[Object(u.jsx)(O,{userData:e.userData}),Object(u.jsx)(b,{logoutHandler:e.logoutHandler,changeShowOption:function(a){e.ChangeShowOption(a)}})]})},x=t(25),p=t.n(x),N=t(32),C=t(15),D=t.n(C);var _=function(e){var a={backgroundImage:"url(".concat(e.friendData.imageurl||"https://i.stack.imgur.com/34AD2.jpg",")")};return Object(u.jsxs)("div",{onClick:function(){e.conversationActive&&e.conversationActive(e.friendData.uid,e.friendData.conversationUID)},className:e.isActive===e.friendData.uid?D.a.Chats+" "+D.a.Active:D.a.Chats,children:[Object(u.jsx)("div",{className:D.a.Profile,children:Object(u.jsx)("div",{style:a,className:D.a.Image})}),Object(u.jsxs)("div",{className:D.a.name,children:[Object(u.jsx)("p",{style:{color:"#fff",marginBottom:"15px"},children:e.friendData.name}),e.pending||e.requested?Object(u.jsxs)("p",{style:{color:"#c5c5c5"},children:[" ",e.friendData.email]}):Object(u.jsx)("p",{className:D.a.lastMessage,children:e.friendData.lastmsg})]}),e.pending?Object(u.jsx)("p",{className:D.a.pending,children:"pending"}):e.requested?Object(u.jsx)("p",{onClick:function(){console.log(e.friendData),e.request(e.friendData.uid)},className:D.a.requested,children:"requested"}):Object(u.jsxs)("div",{className:D.a.time,children:[Object(u.jsx)("p",{className:D.a.read,children:"."}),Object(u.jsx)("p",{style:{marginTop:"25px"},children:e.friendData.time})]})]})},w=t(21),S=t.n(w),y=function(e){var a={backgroundImage:"url(".concat(e.friendData.imageurl||"https://i.stack.imgur.com/34AD2.jpg",")")};return Object(u.jsxs)("div",{className:S.a.NewChat,children:[Object(u.jsx)("div",{className:S.a.Profile,children:Object(u.jsx)("div",{style:a,className:S.a.Image})}),Object(u.jsxs)("div",{className:S.a.name,children:[Object(u.jsx)("p",{style:{color:"#fff",marginBottom:"15px"},children:e.friendData.name}),Object(u.jsx)("p",{style:{color:"#ccc",marginBottom:"15px"},children:e.friendData.email})]}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{onClick:function(){e.sendRequest(e.friendData.uid)},className:S.a.Send,children:"Request"})})]})},I=t(16),k=t.n(I),P=function(e){var a=Object(s.useState)(null),t=Object(r.a)(a,2),c=t[0],n=t[1],i=Object(s.useState)("recentChat"),j=Object(r.a)(i,2),d=j[0],b=j[1],h=Object(s.useState)(!1),m=Object(r.a)(h,2),O=m[0],v=m[1],f=Object(s.useState)(null),g=Object(r.a)(f,2),x=g[0],C=g[1],D=Object(s.useState)(null),w=Object(r.a)(D,2),S=w[0],I=w[1],P=Object(s.useState)(null),U=Object(r.a)(P,2),H=U[0],M=U[1],L=Object(s.useState)(null),A=Object(r.a)(L,2),B=A[0],E=A[1];Object(s.useEffect)((function(){R()}),[]);var q=function(a,t){E(a,t),e.conversationUId(a,t)},R=function(){v(!0);var a=[],t=[];o.database().ref("Chats").on("value",function(){var s=Object(N.a)(p.a.mark((function s(c){var n,i,r,j,d,u;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(d in console.log("retrieve, [chat]"),n=c.val(),i=[],r={},j="",n)0===d.indexOf(e.userData.uid)&&(u=d.slice(e.userData.uid.length,d.length),j={uid:u,conversationUID:d,lastmsg:n[d].lastmgs,time:n[d].time},i.push(u),r[u]=j);o.database().ref("Chat Requests/").on("value",(function(s){for(var c in console.log(s.val()),s.val())if(c===e.userData.uid)for(var n in s.val()[e.userData.uid])"send"===s.val()[e.userData.uid][n].request_type?a.push(n):"received"===s.val()[e.userData.uid][n].request_type&&t.push(n),console.log(c,s.val()[e.userData.uid]);a.length?o.database().ref("Profiles/").on("value",(function(e){var t=[];for(var s in e.val())-1!==a.indexOf(s)&&(t.push(e.val()[s]),console.log());M(t)})):M(null),t.length?o.database().ref("Profiles/").on("value",(function(e){var a=[];for(var s in e.val())-1!==t.indexOf(s)&&a.push(e.val()[s]);I(a)})):I(null),console.log(a),console.log(t)})),i.length?o.database().ref("Profiles/").on("value",(function(e){var a=[];for(var t in e.val())i.forEach((function(e){})),-1!==i.indexOf(t)&&(console.log(e.val()[t]),a.push(Object(l.a)(Object(l.a)({},e.val()[t]),r[t])));C(a)})):C(null);case 8:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()),o.database().ref("Chat Requests/").on("value",function(){var s=Object(N.a)(p.a.mark((function s(c){var n,i;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:for(n in console.log("retrieve, [chat requests]"),c.val())if(console.log(n),n===e.userData.uid)for(i in c.val()[n])"send"===c.val()[n][i].request_type?a.push(i):"received"===c.val()[n][i].request_type&&t.push(i);console.log(a),console.log(t),a.length?o.database().ref("Profiles/").on("value",(function(e){var t=[];for(var s in e.val())-1!==a.indexOf(s)&&t.push(e.val()[s]);M(t)})):M(null),t.length?o.database().ref("Profiles/").on("value",(function(e){var a=[];for(var s in e.val())-1!==t.indexOf(s)&&a.push(e.val()[s]);I(a)})):I(null);case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()),b("recentChat"),v(!1)},T=function(a){o.database().ref("Chat Requests/".concat(e.userData.uid,"/").concat(a)).set({request_type:"send"}),o.database().ref("Chat Requests/".concat(a,"/").concat(e.userData.uid)).set({request_type:"received"}).then((function(){R()}))},J=function(a){o.database().ref("Chats/".concat(e.userData.uid+a)).set({lastmgs:"Now you can send messages to your friend",messages:"",time:""}).then((function(){o.database().ref("Chat Requests/".concat(e.userData.uid,"/").concat(a)).remove()})),o.database().ref("Chats/".concat(a+e.userData.uid)).set({lastmgs:"Now you can send messages to your friend",messages:"",time:""}).then((function(){o.database().ref("Chat Requests/".concat(a,"/").concat(e.userData.uid)).remove().then((function(){R()}))}))},G="";return"recentChat"===d?G=Object(u.jsxs)("div",{className:k.a.recentChat+" "+k.a.Chat,children:[x&&x.map((function(e){return Object(u.jsx)(_,{isActive:B,conversationActive:q,friendData:e,uid:e.uid},e.uid)})),S&&S.map((function(e){return Object(u.jsx)(_,{request:J,requested:!0,friendData:e},e.uid)})),H&&H.map((function(e){return Object(u.jsx)(_,{pending:!0,friendData:e},e.uid)}))]}):"newChat"===d&&(G=Object(u.jsx)("div",{className:k.a.newChat+" "+k.a.Chat,children:c.map((function(e,a){return Object(u.jsx)(y,{sendRequest:T,friendData:e},a)}))})),Object(u.jsxs)("div",{className:k.a.Conversation,children:[Object(u.jsx)("div",{className:k.a.Heading,children:"Conversations"}),Object(u.jsx)("div",{className:k.a.search,children:Object(u.jsx)("input",{type:"text",placeholder:"Search"})}),Object(u.jsxs)("div",{className:k.a.opt,children:[Object(u.jsx)("div",{onClick:R,className:k.a.recent,children:"Recent Chats"}),Object(u.jsx)("div",{onClick:function(){v(!0);var a=[];x&&x.forEach((function(e){a.push(e.uid)})),o.database().ref("Profiles").on("value",(function(t){var s=t.val(),c=[];for(var i in s)if(i!==e.userData.uid&&-1===a.indexOf(i)){var r=Object(l.a)(Object(l.a)({},s[i]),{},{uid:i});c.push(r)}n(c),b("newChat"),v(!1)}))},className:k.a.new,children:"+ New Chat"})]}),!0===O?Object(u.jsx)("div",{children:"Loading.."}):G]})},U=t(22),H=t.n(U),M=function(e){var a={backgroundImage:"url(".concat(e.friendData.imageurl||"https://i.stack.imgur.com/34AD2.jpg",")")};return Object(u.jsxs)("div",{className:H.a.Display,children:[Object(u.jsx)("div",{className:H.a.Heading,children:"Contact Info"}),Object(u.jsx)("div",{className:H.a.Profile,children:Object(u.jsx)("div",{style:a,className:H.a.Image})}),Object(u.jsx)("div",{className:H.a.Name,children:e.friendData.name})]})},L=t(28),A=t.n(L),B=function(e){return Object(u.jsx)("div",{className:A.a.About,children:Object(u.jsx)("div",{className:A.a.container,children:Object(u.jsx)("p",{className:A.a.content,children:e.about||"Hey there!"})})})},E=(t(26),t(17)),q=t.n(E);function R(e,a){return Object(u.jsxs)("svg",{height:"".concat(e,"pt"),viewBox:"-40 0 427 427.00131",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("path",{fill:a,d:"m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),Object(u.jsx)("path",{fill:a,d:"m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"}),Object(u.jsx)("path",{fill:a,d:"m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0"}),Object(u.jsx)("path",{fill:a,d:"m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"})]})}function T(e,a){return Object(u.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 426.667 426.667",height:"".concat(e,"pt"),children:[Object(u.jsx)("g",{children:Object(u.jsx)("g",{children:Object(u.jsx)("path",{fill:a,d:"M213.333,0C95.467,0,0,95.467,0,213.333s95.467,213.333,213.333,213.333S426.667,331.2,426.667,213.333S331.2,0,213.333,0\r z M42.667,213.333c0-94.293,76.373-170.667,170.667-170.667c39.467,0,75.627,13.547,104.533,35.947L78.613,317.867\r C56.213,288.96,42.667,252.8,42.667,213.333z M213.333,384c-39.467,0-75.627-13.547-104.533-35.947L348.053,108.8\r C370.453,137.707,384,173.867,384,213.333C384,307.627,307.627,384,213.333,384z"})})}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{})]})}var J=function(e){return Object(u.jsx)("div",{className:q.a.Options,children:Object(u.jsxs)("ul",{children:[Object(u.jsxs)("li",{className:q.a.List,children:[Object(u.jsx)("div",{className:q.a.Icon,children:(a=10,t="white",Object(u.jsxs)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",height:"".concat(a,"pt"),viewBox:"0 0 448.075 448.075",children:[Object(u.jsx)("path",{fill:t,d:"M352.021,16.075c0-6.08-3.52-11.84-8.96-14.4c-5.76-2.88-12.16-1.92-16.96,1.92l-141.76,112.96l167.68,167.68V16.075z"}),Object(u.jsx)("path",{fill:t,d:"M443.349,420.747l-416-416c-6.24-6.24-16.384-6.24-22.624,0s-6.24,16.384,0,22.624l100.672,100.704h-9.376\r c-9.92,0-18.56,4.48-24.32,11.52c-4.8,5.44-7.68,12.8-7.68,20.48v128c0,17.6,14.4,32,32,32h74.24l155.84,124.48\r c2.88,2.24,6.4,3.52,9.92,3.52c2.24,0,4.8-0.64,7.04-1.6c5.44-2.56,8.96-8.32,8.96-14.4v-57.376l68.672,68.672\r c3.136,3.136,7.232,4.704,11.328,4.704s8.192-1.568,11.328-4.672C449.589,437.131,449.589,427.019,443.349,420.747z"}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{}),Object(u.jsx)("g",{})]}))}),Object(u.jsx)("div",{className:q.a.Option,children:"Mute Chat"})]}),Object(u.jsxs)("li",{className:q.a.List,children:[Object(u.jsx)("div",{className:q.a.Icon,children:T(10,"white")}),Object(u.jsx)("div",{className:q.a.Option,children:"Block"})]}),Object(u.jsxs)("li",{className:q.a.List,children:[Object(u.jsx)("div",{className:q.a.Icon,children:R(10,"white")}),Object(u.jsx)("div",{className:q.a.Option,children:"Delete Chat"})]})]})});var a,t},G=t(39),Q=t.n(G),Z=function(e){var a=Object(s.useState)(null),t=Object(r.a)(a,2),c=t[0],n=t[1];return Object(s.useEffect)((function(){e.activeConversationData&&o.database().ref("Profiles/".concat(e.activeConversationData.friendUID)).on("value",(function(e){e.val()?(console.log(e.val()),n(e.val())):n(null)}))}),[e.activeConversationData]),e.activeConversationData&&c&&Object(u.jsxs)("div",{className:Q.a.Contact_Info,children:[Object(u.jsx)(M,{friendData:c}),Object(u.jsx)(B,{about:c.about}),Object(u.jsx)(J,{})]})};var F=t(19),z=t.n(F),W=function(e){var a,t,c=Object(s.useState)("white"),n=Object(r.a)(c,2),i=n[0],o=n[1],l={backgroundImage:"url(".concat(e.friendData.imageurl||"https://i.stack.imgur.com/34AD2.jpg",")")};return console.log(e.friendData),Object(u.jsxs)("div",{className:z.a.TopOption,children:[Object(u.jsx)("div",{className:z.a.DisplayProfile,children:Object(u.jsx)("div",{className:z.a.Image,style:l})}),Object(u.jsxs)("div",{className:z.a.Name_LastSeen,children:[Object(u.jsx)("div",{className:z.a.Name,children:e.friendData.name}),Object(u.jsx)("div",{className:z.a.LastSeen,children:e.friendData.lastscene})]}),Object(u.jsx)("div",{onClick:function(a){e.changeShowContactInfo()},className:z.a.HamburgerMenu,onMouseOver:function(e){o("#a7aec4")},onMouseLeave:function(e){o("white")},children:(a=i,t=15,Object(u.jsxs)("svg",{id:"Capa_1",enableBackground:"new 0 0 515.555 515.555",height:"".concat(t,"pt"),viewBox:"0 0 515.555 515.555",xmlns:"http://www.w3.org/2000/svg",children:[Object(u.jsx)("path",{fill:a,d:"m303.347 18.875c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}),Object(u.jsx)("path",{fill:a,d:"m303.347 212.209c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"}),Object(u.jsx)("path",{fill:a,d:"m303.347 405.541c25.167 25.167 25.167 65.971 0 91.138s-65.971 25.167-91.138 0-25.167-65.971 0-91.138c25.166-25.167 65.97-25.167 91.138 0"})]}))})]})},Y=t(27),V=t.n(Y),K=function(e){var a="",t=null;return"received"===e.type?a={borderTopLeftRadius:"0",backgroundColor:"#2438ae"}:"send"===e.type&&(a={borderTopRightRadius:"0",backgroundColor:"#17275f"},t={justifyContent:"flex-end"}),Object(u.jsx)("li",{style:t,className:V.a.Message,children:Object(u.jsxs)("div",{style:a,className:V.a.sar_11,children:[Object(u.jsx)("p",{className:V.a.text,children:e.msg}),Object(u.jsx)("p",{className:V.a.time,children:e.time})]})})},X=t(29),$=t.n(X),ee=function(e){var a=Object(s.useRef)(null);return Object(s.useEffect)((function(){console.log(a.current),a.current.scrollTo(0,a.current.scrollHeight)}),[e.messageArray]),Object(u.jsx)("ul",{ref:a,className:$.a.MessageArea,children:e.conversationData?e.messageArray?e.messageArray.map((function(a,t){return Object(u.jsx)(K,{type:a.authorUID===e.userData.uid?"send":"received",msg:a.message,time:a.time},t)})):Object(u.jsx)("div",{className:$.a.Init,children:"No chat history"}):Object(u.jsx)("div",{className:$.a.Init,children:" Select Any Conversation "})})},ae=t(33),te=t.n(ae);var se=function(e){var a,t,c,n=Object(s.useState)("#039be5"),i=Object(r.a)(n,2),o=i[0],l=i[1],j=Object(s.useState)(""),d=Object(r.a)(j,2),b=d[0],h=d[1];return Object(u.jsxs)("div",{className:te.a.TextArea,children:[Object(u.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value)},value:b,name:"message",placeholder:"Type a message...",onKeyPress:function(a){"Enter"===a.key&&(b.length&&e.sendMessage(b),h(""))}}),Object(u.jsx)("div",{className:te.a.Button,onMouseOver:function(e){l("white")},onMouseLeave:function(e){l("#039be5")},children:(a=20,t=o,c=function(){b.length&&e.sendMessage(b),h("")},Object(u.jsx)("svg",{onClick:c,style:{transition:"3s"},enableBackground:"new 0 0 24 24",height:"".concat(a,"pt"),viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(u.jsx)("path",{d:"m9.417 15.181-.397 5.584c.568 0 .814-.244 1.109-.537l2.663-2.545 5.518 4.041c1.012.564 1.725.267 1.998-.931l3.622-16.972.001-.001c.321-1.496-.541-2.081-1.527-1.714l-21.29 8.151c-1.453.564-1.431 1.374-.247 1.741l5.443 1.693 12.643-7.911c.595-.394 1.136-.176.691.218z",fill:"".concat(t)})}))})]})},ce=t(40),ne=t.n(ce),ie=function(e){var a=Object(s.useState)(null),t=Object(r.a)(a,2),c=t[0],n=t[1],i=Object(s.useState)(null),j=Object(r.a)(i,2),d=j[0],b=j[1],h=Object(s.useState)(null),m=Object(r.a)(h,2),O=m[0],v=m[1];Object(s.useEffect)((function(){e.activeConversationData&&(o.database().ref("Chats/".concat(e.activeConversationData.conversationUID)).on("value",(function(e){if(console.log(e.val()),e.val().messages){var a=[];for(var t in e.val().messages){console.log(e.val().messages[t]);var s=Object(l.a)({},e.val().messages[t]);a.push(s)}console.log(a),n(a)}else n(null)})),o.database().ref("Profiles/".concat(e.activeConversationData.friendUID)).on("value",(function(e){e.val()?b(e.val()):b(null)})))}),[e.activeConversationData,O]);var f=function(){};return Object(u.jsxs)("div",{className:ne.a.Section3,children:[e.activeConversationData&&d&&Object(u.jsx)(W,{friendData:d,changeShowContactInfo:function(){e.changeShowContact()}}),Object(u.jsx)(ee,{messageArray:c,conversationData:e.activeConversationData,userData:e.userData}),e.activeConversationData&&d&&Object(u.jsx)(se,{sendMessage:function(a){var t=new Date,s="".concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds());o.database().ref("Chats/".concat(e.activeConversationData.conversationUID,"/messages/").concat(t.getTime())).set({message:a,authorUID:e.userData.uid,time:s}).then((function(){v(t)})),o.database().ref("Chats/".concat(e.activeConversationData.friendUID).concat(e.userData.uid,"/messages/").concat(t.getTime())).set({message:a,authorUID:e.userData.uid,time:s}).then((function(){v(t)})),f()}})]})},re=t(12),oe=t.n(re),le=function(e){var a=Object(s.useState)(!1),t=Object(r.a)(a,2),c=t[0],n=t[1],i=Object(s.useState)(!1),j=Object(r.a)(i,2),d=j[0],b=j[1],h=Object(s.useState)(null),m=Object(r.a)(h,2),O=(m[0],m[1],Object(s.useState)(e.userData.name||"Unknown")),v=Object(r.a)(O,2),f=v[0],g=v[1],x=Object(s.useState)(e.userData.about||"Hey there!"),p=Object(r.a)(x,2),N=p[0],C=p[1],D={backgroundImage:"url(".concat(e.userData.imageurl||"https://i.stack.imgur.com/34AD2.jpg",")")},_=function(a){"name"===a?!0===c?o.database().ref("Profiles/".concat(e.userData.uid)).set(Object(l.a)(Object(l.a)({},e.userData),{},{name:f})).then((function(){e.dbChanged()})):n(!c):"about"===a&&(console.log(N),!0===d?o.database().ref("Profiles/".concat(e.userData.uid)).set(Object(l.a)(Object(l.a)({},e.userData),{},{about:N})).then((function(){e.dbChanged()})):b(!d))},w=function(e){console.log(e.target.name),"name"===e.target.name?g(e.target.value):"about"===e.target.name&&C(e.target.value)};return console.log(e.userData),Object(u.jsxs)("div",{className:oe.a.Setting,children:[Object(u.jsx)("div",{className:oe.a.Heading,children:"Profile"}),Object(u.jsx)("div",{className:oe.a.Profile,children:Object(u.jsx)("div",{style:D,className:oe.a.Image})}),Object(u.jsxs)("div",{className:oe.a.Name,children:[Object(u.jsx)("div",{className:oe.a.Heading1,children:"Your Name"}),Object(u.jsxs)("div",{className:oe.a.Name_Section,children:[c?Object(u.jsx)("input",{className:oe.a.form,value:f,onChange:w,type:"text",name:"name"}):Object(u.jsx)("div",{className:oe.a.Heading2,children:e.userData.name}),Object(u.jsx)("div",{onClick:function(){return _("name")},className:oe.a.edit,children:c?"Save":"Edit"})]})]}),Object(u.jsx)("div",{className:oe.a.text,children:"This is not your Username or pin. This name is visible to your Contacts"}),Object(u.jsxs)("div",{className:oe.a.about,children:[Object(u.jsx)("div",{className:oe.a.Heading1,children:"About"}),Object(u.jsxs)("div",{className:oe.a.Name_Section,children:[d?Object(u.jsx)("input",{className:oe.a.form,value:N,onChange:w,type:"text",name:"about"}):Object(u.jsx)("div",{className:oe.a.Heading2,children:e.userData.about||"Hey there!"}),Object(u.jsx)("div",{onClick:function(){return _("about")},className:oe.a.edit,children:d?"Save":"Edit"})]})]})]})},je=t(20),de=t.n(je),ue=function(e){var a=Object(s.useState)(!1),t=Object(r.a)(a,2),c=t[0],n=t[1],i=Object(s.useState)(null),j=Object(r.a)(i,2),d=j[0],b=j[1],h=Object(s.useState)(null),m=Object(r.a)(h,2),O=m[0],v=m[1],f=Object(s.useState)(!0),x=Object(r.a)(f,2),p=x[0],N=x[1],C=Object(s.useState)("conversation"),D=Object(r.a)(C,2),_=D[0],w=D[1],S=Object(s.useState)(!1),y=Object(r.a)(S,2),I=y[0],k=y[1];Object(s.useEffect)((function(){N(!0),o.database().ref().child("Profiles").child(e.uid).get().then((function(e){e.exists()?(console.log(e.val()),b(Object(l.a)({},e.val())),N(!1)):console.log("No data available")})).catch((function(e){console.error(e)})),b({})}),[e.uid,I]);return p?Object(u.jsx)("div",{className:de.a.loading,children:Object(u.jsx)("div",{className:de.a.loader})}):Object(u.jsxs)("div",{className:de.a.Main,children:[Object(u.jsx)("div",{className:de.a.Profile,children:Object(u.jsx)(g,{userData:d,logoutHandler:e.logoutHandler,ChangeShowOption:function(e){w(e)}})}),Object(u.jsx)("div",{className:de.a.Conversations,children:"conversation"===_?Object(u.jsx)(P,{conversationUId:function(e,a){v({friendUID:e,conversationUID:a}),console.log({friendUID:e,conversationUID:a})},userData:d}):"setting"===_?Object(u.jsx)(le,{dbChanged:function(){return k(!I)},userData:d}):null}),Object(u.jsx)("div",{className:de.a.TextArea__TopOption,children:Object(u.jsx)(ie,{activeConversationData:O,userData:d,changeShowContact:function(){n(!c)}})}),Object(u.jsx)("div",{style:{width:c?"250px":"0px"},className:de.a.ContactInfo,children:Object(u.jsx)(Z,{activeConversationData:O,userData:d})})]})},be=function(e){return Object(u.jsx)("div",{children:e.children})},he=t(23),me=t(9),Oe=t.n(me),ve=function(e){var a=e.loginHandler,t=e.signUpHandler,c=e.emailError,n=e.passwordError,i=e.clearError,o=Object(s.useState)(),j=Object(r.a)(o,2),d=j[0],b=j[1],h=Object(s.useState)(),m=Object(r.a)(h,2),O=m[0],v=m[1];Object(s.useEffect)((function(){b(c),v(n)}),[n,c]);var f=Object(s.useState)(!0),g=Object(r.a)(f,2),x=g[0],p=g[1],N=Object(s.useState)({email:"",password:""}),C=Object(r.a)(N,2),D=C[0],_=C[1],w=Object(s.useState)({name:"",email:"",setPassword:"",confirmPassword:""}),S=Object(r.a)(w,2),y=S[0],I=S[1],k=function(e){_((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(he.a)({},e.target.name,e.target.value))}))},P=function(e){I((function(a){return Object(l.a)(Object(l.a)({},a),{},Object(he.a)({},e.target.name,e.target.value))}))},U=function(){p(!x),i()};return Object(u.jsxs)("div",{className:Oe.a.LoginSignUp,children:[Object(u.jsx)("div",{className:Oe.a.Header,children:"Chatting_app"}),Object(u.jsx)("div",{className:Oe.a.FormSection,children:!0===x?Object(u.jsxs)("div",{className:Oe.a.LoginContainer,children:[Object(u.jsx)("div",{className:Oe.a.Head,children:Object(u.jsx)("p",{className:Oe.a.Text,children:"Login"})}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:Oe.a.field,children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{onChange:k,value:D.email,type:"email",name:"email",placeholder:"Email"}),Object(u.jsx)("p",{className:Oe.a.errorMessage,children:d})]}),Object(u.jsxs)("div",{className:Oe.a.field,children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{onChange:k,value:D.password,type:"password",name:"password",placeholder:"Password"}),Object(u.jsx)("p",{className:Oe.a.errorMessage,children:O})]}),Object(u.jsx)("div",{className:Oe.a.checkLink,children:"Forget Password"}),Object(u.jsx)("button",{className:Oe.a.Button,onClick:function(e){e.preventDefault(),a(D),i()},children:"Login"})]}),Object(u.jsx)("p",{className:Oe.a.toggle,onClick:U,children:"Dont have account? Register Now"})]}):Object(u.jsxs)("div",{className:Oe.a.LoginContainer,children:[Object(u.jsx)("div",{className:Oe.a.Head,children:Object(u.jsx)("p",{className:Oe.a.Text,children:"SignUp"})}),Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{className:Oe.a.field,children:[Object(u.jsx)("label",{children:"Name"}),Object(u.jsx)("input",{onChange:P,value:y.name,type:"name",name:"name",placeholder:"Name"})]}),Object(u.jsxs)("div",{className:Oe.a.field,children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{onChange:P,value:y.email,type:"email",name:"email",placeholder:"Email"}),Object(u.jsx)("p",{className:Oe.a.errorMessage,children:d})]}),Object(u.jsxs)("div",{className:Oe.a.field,children:[Object(u.jsx)("label",{children:"Set Password"}),Object(u.jsx)("input",{onChange:P,value:y.setPassword,type:"password",name:"setPassword",placeholder:"Password"}),Object(u.jsx)("p",{className:Oe.a.errorMessage,children:O})]}),Object(u.jsxs)("div",{className:Oe.a.field,children:[Object(u.jsx)("label",{children:"Confirm Password"}),Object(u.jsx)("input",{onChange:P,value:y.confirmPassword,type:"password",name:"confirmPassword",placeholder:"Password"})]}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),t(y),i()},className:Oe.a.Button,children:"Sign Up"})]}),Object(u.jsx)("p",{className:Oe.a.toggle,onClick:U,children:"Already have an account!"})]})})]})},fe=t(34),ge=t.n(fe);var xe=function(e){var a=Object(s.useState)(null),t=Object(r.a)(a,2),c=t[0],n=t[1],i=Object(s.useState)(""),l=Object(r.a)(i,2),j=l[0],d=l[1],b=Object(s.useState)(""),h=Object(r.a)(b,2),m=h[0],O=h[1],v=Object(s.useState)(!1),f=Object(r.a)(v,2),g=f[0],x=f[1];return Object(s.useEffect)((function(){o.auth().onAuthStateChanged((function(e){n(e?e.uid:null)}))}),[]),Object(u.jsxs)(be,{children:[g?Object(u.jsx)("div",{className:ge.a.loading,children:Object(u.jsx)("div",{className:ge.a.loader})}):null,c?Object(u.jsx)(ue,{uid:c,logoutHandler:function(){o.auth().signOut()}}):Object(u.jsx)(ve,{clearError:function(){d(""),O("")},emailError:j,passwordError:m,loginHandler:function(e){x(!0),o.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){n(e.user.uid),x(!1)})).catch((function(e){switch(e.code){case"auth/invalid-emial":case"auth/user-disabled":case"auth/user-not-found":x(!1),d(e.message);break;case"auth/wrong-password":x(!1),O(e.message)}}))},signUpHandler:function(e){x(!0),o.auth().createUserWithEmailAndPassword(e.email,e.confirmPassword).then((function(a){o.database().ref("Profiles/".concat(a.user.uid)).set({uid:a.user.uid,name:e.name,email:e.email,imageurl:e.imageurl||""}),n(a.user.uid),x(!1)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":x(!1),d(e.message);break;case"auth/weak-password":x(!1),O(e.message)}}))}})]})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(xe,{})}),document.getElementById("root"))}],[[52,1,2]]]);
//# sourceMappingURL=main.8a86ac83.chunk.js.map